# üéì Plateforme √âtudiante Junia - ProjetFinAnnee3

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Node.js](https://img.shields.io/badge/node.js-16.x-green.svg)](https://nodejs.org/)
[![Express.js](https://img.shields.io/badge/express.js-4.x-lightgrey.svg)](https://expressjs.com/)
[![MongoDB](https://img.shields.io/badge/mongodb-5.x-brightgreen.svg)](https://www.mongodb.com/)
[![EJS](https://img.shields.io/badge/template-EJS-red.svg)](https://ejs.co/)
[![Socket.IO](https://img.shields.io/badge/websocket-Socket.IO-black.svg)](https://socket.io/)
[![Status](https://img.shields.io/badge/status-active-success.svg)]()

## üìã Table des mati√®res

- [√Ä propos](#√†-propos)
- [Fonctionnalit√©s](#fonctionnalit√©s)
- [Technologies utilis√©es](#technologies-utilis√©es)
- [Architecture technique](#architecture-technique)
- [Installation](#installation)
- [Configuration](#configuration)
- [Utilisation](#utilisation)
- [Structure du projet](#structure-du-projet)
- [API Documentation](#api-documentation)
- [Captures d'√©cran](#captures-d√©cran)
- [Contributeurs](#contributeurs)
- [Licence](#licence)

## üéØ √Ä propos

Cette plateforme √©tudiante compl√®te a √©t√© d√©velopp√©e en **1 mois et demi** dans le cadre de notre projet de fin de 3√®me ann√©e √† Junia. Elle centralise tous les outils n√©cessaires √† la vie √©tudiante : gestion d'emploi du temps, syst√®me de mentorat, ressources √©ducatives avec IA et messagerie temps r√©el.

### Vision du projet
Cr√©er un √©cosyst√®me num√©rique int√©gr√© pour optimiser l'exp√©rience √©tudiante en centralisant :
- üìÖ La gestion personnalis√©e des emplois du temps Junia via API Mauria
- üë®‚Äçüè´ Le syst√®me de mentorat collaboratif entre √©tudiants
- üìö Le partage de ressources √©ducatives avec intelligence artificielle
- üí¨ La communication instantan√©e avec WebSocket
- üèõÔ∏è La gestion des √©v√©nements associatifs

### Contexte acad√©mique
- **Niveau** : 3√®me ann√©e d'√©tudes d'ing√©nieur
- **√âtablissement** : Junia √âcole d'Ing√©nieurs
- **Type** : Projet de fin d'ann√©e
- **Dur√©e** : 1 mois et demi de d√©veloppement
- **Nom du projet** : Argos

## ‚ú® Fonctionnalit√©s

### üìÖ Gestion d'emploi du temps intelligente
- **Import automatique** : R√©cup√©ration temps r√©el via l'API Mauria
- **Personnalisation compl√®te** : Ajout d'√©v√©nements personnels avec interface intuitive
- **Synchronisation mentorat** : Int√©gration automatique des sessions cr√©√©es
- **Vue p√©riodique** : Affichage hebdomadaire et personnalis√© avec navigation
- **Gestion √©v√©nements associatifs** : Calendrier d√©di√© aux activit√©s des associations

### üèõÔ∏è Syst√®me d'√©v√©nements associatifs
- **Calendrier centralis√©** : Planning d√©di√© aux √©v√©nements des associations √©tudiantes
- **Gestion des permissions** : Comptes "association" (perm niveau 1) pour cr√©ation d'√©v√©nements
- **Supervision administrative** : Interface compl√®te de mod√©ration (perm niveau 2)
- **CRUD complet** : Cr√©ation, lecture, modification, suppression des √©v√©nements
- **Notifications** : Alertes automatiques pour les nouveaux √©v√©nements

### üë®‚Äçüè´ Syst√®me de mentorat avanc√©
- **Cr√©ation de sessions** : Interface pour proposer du tutorat dans 30+ mati√®res
- **Inscription simple** : Syst√®me de r√©servation en un clic
- **Gestion temporelle** : Nettoyage automatique des cours pass√©s
- **Gamification** : Attribution de points pour participation (+1 point √©tudiant/tuteur)
- **Int√©gration planning** : Ajout automatique dans l'emploi du temps des participants
- **Suivi complet** : Historique des sessions et statistiques

### üìö Ressources √©ducatives avec IA
- **Biblioth√®que compl√®te** : Organisation par 30+ mati√®res Junia sp√©cifiques
- **Stockage MongoDB** : Documents PDF stock√©s directement en base de donn√©es
- **Upload intelligent** : Gestion des noms personnalis√©s et m√©tadonn√©es
- **Cat√©gorisation** : Cours, TD, TP, Annales pour chaque mati√®re
- **IA Google Gemini** : G√©n√©ration automatique de quiz et r√©sum√©s
- **Forum int√©gr√©** : Discussions par mati√®re avec messages temps r√©el
- **Recherche avanc√©e** : Filtrage par mati√®re, type, date

#### Mati√®res support√©es (30+)
- **Informatique** : Programmation Java, Base de donn√©es, DevOps, R√©seaux
- **√âlectronique** : √âlectronique analogique/num√©rique, projets sp√©cialis√©s
- **Math√©matiques** : Probabilit√©s-statistiques, Transformations int√©grales, Analyse des signaux
- **Physique** : M√©canique quantique, Physique du solide, M√©canique du solide
- **Gestion** : √âconomie d'entreprise, Comptabilit√©, Marketing, Gestion de projet
- **Soft Skills** : Anglais, Comp√©tences en travail d'√©quipe, √âthique de l'ing√©nieur
- **Et bien plus...** : Automatique, Infographie, etc.

### üí¨ Messagerie temps r√©el compl√®te
- **Chat priv√©** : Conversations individuelles avec WebSocket
- **Groupes dynamiques** : Cr√©ation, gestion et personnalisation de groupes
- **Temps r√©el** : Communication instantan√©e via Socket.IO
- **Notifications intelligentes** : Compteurs de messages non lus
- **Gestion des m√©dias** : Photos de groupe personnalis√©es
- **Statuts de lecture** : Suivi des messages lus/non lus
- **Historique complet** : Sauvegarde permanente des conversations

### üèÜ Syst√®me de gamification
- **Points d'activit√©** : R√©compenses pour participation au mentorat (+1 point/session)
- **Classement global** : Leaderboard en temps r√©el des utilisateurs les plus actifs
- **Progression personnelle** : Suivi individuel des contributions
- **Motivation collective** : Encouragement de l'entraide entre √©tudiants

### üë®‚Äçüíº Administration avanc√©e
- **Dashboard admin** : Interface compl√®te de gestion (permission niveau 2)
- **Gestion utilisateurs** : Attribution des r√¥les et permissions (0: √©tudiant, 1: association, 2: admin)
- **Mod√©ration √©v√©nements** : Supervision des cr√©ations d'√©v√©nements associatifs
- **Statistiques** : Vue d'ensemble de l'activit√© de la plateforme
- **Suppression comptes** : Gestion compl√®te des utilisateurs

### ü§ñ Intelligence Artificielle int√©gr√©e
- **Quiz automatiques** : G√©n√©ration via Google Gemini 2.0 Flash √† partir des PDF
- **R√©sum√©s intelligents** : Cr√©ation automatique de synth√®ses de cours
- **Analyse de documents** : Extraction et traitement du contenu PDF
- **Personnalisation** : Questions vari√©es selon une seed al√©atoire

## üõ†Ô∏è Technologies utilis√©es

### Backend & Core
- **Node.js** - Runtime JavaScript haute performance
- **Express.js** - Framework web rapide et minimaliste
- **EJS** - Moteur de templates pour le rendu c√¥t√© serveur
- **MongoDB** - Base de donn√©es NoSQL
- **compression** - Middleware de compression gzip/brotli

### Authentification & S√©curit√©
- **bcrypt** - Hachage s√©curis√© des mots de passe (10 rounds)
- **express-session** - Gestion des sessions utilisateur
- **connect-mongo** - Stockage des sessions dans MongoDB
- **crypto** - Fonctions de cryptographie natives Node.js

### Communication & Temps r√©el
- **Socket.IO** - WebSocket bidirectionnel pour chat temps r√©el
- **Axios** - Client HTTP pour les requ√™tes API externes

### Intelligence Artificielle
- **@google/generative-ai** - SDK officiel Google Gemini 2.0 Flash
- **pdf-parse** - Extraction et analyse du contenu PDF pour l'IA

### Frontend & Styling
- **Tailwind CSS** - Framework CSS utilitaire avec configuration personnalis√©e
- **Vanilla JavaScript** - Interactions c√¥t√© client pour modals et interface
- **EJS Partials** - Composants r√©utilisables (header, footer, etc.)
- **Font Poppins** - Typographie moderne

### Gestion de fichiers
- **Multer** - Upload et gestion des fichiers (PDF, images)
- **Path & FS** - Manipulation des chemins et syst√®me de fichiers
- **Buffer** - Gestion des donn√©es binaires pour stockage MongoDB

### Services externes
- **API Mauria** - R√©cup√©ration emplois du temps Junia (mauriaapi.fly.dev)
- **Google Gemini AI** - G√©n√©ration de quiz et r√©sum√©s intelligents

## üèóÔ∏è Architecture technique

### Base de donn√©es MongoDB
```javascript
// Collections principales
DATABASE_NAME = "Argos"
- Compte (utilisateurs)
- Messages (chat priv√© et groupes) 
- Conversations (chats priv√©s)
- Groups (groupes de discussion)
- Ressources (documents PDF + m√©tadonn√©es)
- mentorat (sessions de tutorat)
- AssociationEvents (√©v√©nements associatifs)
```

### Gestion des sessions
- Stockage MongoDB avec `connect-mongo`
- Dur√©e de vie : 24 heures
- Donn√©es utilisateur en session : `_id`, `username`, `email`, `nom`, `prenom`, `photo`, `perm`

### WebSocket Architecture
```javascript
// Mapping utilisateur ‚Üî socket
userSocketMap = new Map(); // username -> socketId

// √âv√©nements principaux
- authenticate : Authentification socket
- sendMessage : Envoi message priv√©
- sendGroupMessage : Envoi message groupe
- markAsRead : Marquage messages lus
- joinConversation/Group : Rejoindre chat
```

### API Externe Mauria
```javascript
POST https://mauriaapi.fly.dev/exactPlanning
{
  "username": "email.etudiant@junia.com",
  "password": "motdepasse_aurion"
}
```

## üöÄ Installation

### Pr√©requis syst√®me
- **Node.js** (version 16.x ou sup√©rieure)
- **MongoDB** (version 5.x ou sup√©rieure) - Atlas
- **npm** (inclus avec Node.js)
- **Git** pour cloner le repository

### √âtapes d'installation compl√®te

1. **Cloner le repository**
   ```bash
   git clone https://github.com/LeoLammar/ProjetFinAnnee3.git
   cd ProjetFinAnnee3
   ```

2. **Installer toutes les d√©pendances**
   ```bash
   # Installation group√©e recommand√©e
   npm install
   
   # Ou installation d√©taill√©e
   npm install express ejs mongodb dotenv crypt bcrypt
   npm install connect-mongo express-session axios socket.io
   npm install openai pdf-parse @google/generative-ai compression
   ```

3. **Configuration MongoDB**
   ```bash   
   # Option 3: MongoDB Atlas (recommand√©)
   # Cr√©er un cluster sur https://cloud.mongodb.com
   ```

4. **Configuration des variables d'environnement**
   ```bash
   # Cr√©er le fichier .env
   touch .env
   ```

## ‚öôÔ∏è Configuration

### Variables d'environnement (.env)
```env
# Configuration MongoDB Atlas
DB_ID=votre_nom_utilisateur_mongodb
DB_PASSWORD=votre_mot_de_passe_mongodb

# Pour MongoDB Atlas, l'URI sera automatiquement construite :
# mongodb+srv://${DB_ID}:${DB_PASSWORD}@cluster0.rphccsl.mongodb.net

# Intelligence Artificielle Google
GEMINI_API_KEY=votre_cle_api_google_gemini

# S√©curit√© des sessions (optionnel, fallback: 'argos_secret')
SESSION_SECRET=votre_secret_session_ultra_securise

# Configuration serveur (optionnel, d√©faut: 3000)
PORT=3000
NODE_ENV=development
```

### Configuration MongoDB Atlas 
1. Cr√©er un compte sur [MongoDB Atlas](https://cloud.mongodb.com)
2. Cr√©er un cluster gratuit
3. Cr√©er un utilisateur de base de donn√©es
4. R√©cup√©rer les identifiants pour `DB_ID` et `DB_PASSWORD`
5. Autoriser votre IP dans "Network Access"

### Configuration Google Gemini AI
1. Aller sur [Google AI Studio](https://aistudio.google.com/)
2. Cr√©er un projet et activer l'API Gemini
3. G√©n√©rer une cl√© API
4. L'ajouter dans `.env` comme `GEMINI_API_KEY`

### Configuration Tailwind CSS
Le fichier `tailwind.config.js` est d√©j√† configur√© :
```javascript
module.exports = {
  content: ["./views/**/*.ejs", "./public/**/*.js"],
  theme: {
    extend: {
      fontFamily: {
        'poppins': ['Poppins', 'sans-serif']
      }
    }
  }
}
```

## üìñ Utilisation

### D√©marrage de l'application

```bash
# D√©marrage standard
node app.js

# L'application sera accessible sur
# http://localhost:3000
```

### Premi√®re utilisation

#### Configuration administrateur
1. **Inscription** : Cr√©er un compte avec email Junia
2. **Base de donn√©es** : Modifier manuellement le champ `perm` √† `2` pour le premier admin
3. **Interface admin** : Acc√©der √† `/admin` pour g√©rer les permissions

#### Workflow utilisateur type
1. **Inscription/Connexion** avec email et mot de passe
2. **Import emploi du temps** : Saisir mot de passe Aurion pour synchronisation
3. **Exploration des mati√®res** : Acc√®s aux 30+ pages d√©di√©es
4. **Participation mentorat** : Cr√©er ou rejoindre des sessions
5. **Messagerie** : Communication priv√©e ou en groupe
6. **Ressources IA** : Upload de documents et g√©n√©ration de quiz

### Types de comptes et permissions

#### üë§ √âtudiant (perm: 0)
- Acc√®s complet aux fonctionnalit√©s √©tudiantes
- Import et gestion emploi du temps personnel
- Participation au syst√®me de mentorat
- Acc√®s aux ressources √©ducatives et IA
- Messagerie compl√®te

#### üèõÔ∏è Association (perm: 1)
- Toutes les fonctionnalit√©s √©tudiant
- **Permissions sp√©ciales** :
  - Cr√©ation d'√©v√©nements associatifs
  - Gestion de leurs propres √©v√©nements
  - Modification et suppression de leurs √©v√©nements

#### üë®‚Äçüíº Administrateur (perm: 2)
- Acc√®s complet √† toutes les fonctionnalit√©s
- **Permissions administratives** :
  - Dashboard `/admin` complet
  - Gestion des utilisateurs et permissions
  - Suppression de comptes
  - Mod√©ration de tous les √©v√©nements associatifs
  - Supervision g√©n√©rale de la plateforme

## üìÅ Structure du projet d√©taill√©e

```
ProjetFinAnnee3/
‚îú‚îÄ‚îÄ app.js                    # üöÄ Point d'entr√©e principal (1500+ lignes)
‚îú‚îÄ‚îÄ package.json              # üì¶ D√©pendances et m√©tadonn√©es
‚îú‚îÄ‚îÄ package-lock.json         # üîí Verrouillage des versions
‚îú‚îÄ‚îÄ tailwind.config.js        # üé® Configuration Tailwind CSS
‚îú‚îÄ‚îÄ .env                     # üîê Variables d'environnement 
‚îú‚îÄ‚îÄ .gitignore               # üìù Fichiers ignor√©s par Git
‚îú‚îÄ‚îÄ README.md                # üìñ Documentation compl√®te
‚îú‚îÄ‚îÄ public/                   # üåê Assets statiques (cache 7 jours)
‚îÇ   ‚îú‚îÄ‚îÄ fonts/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Poppins.ttf      # Police principale de l'interface
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ stylesheets/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ header.css       # Styles sp√©cifiques du header
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tailwind.css     # CSS Tailwind compil√©
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ group_photos/        # üì∏ Photos de groupes de discussion
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ [timestamp].jpg  # Photos upload√©es dynamiquement
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ default.png      # Image par d√©faut des groupes
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ uploads/             # üìÑ Documents utilisateurs upload√©s
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [timestamp]_[filename].[ext]
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ [images_interface]/   # üñºÔ∏è Images de l'interface
‚îÇ       ‚îú‚îÄ‚îÄ edt.png          # Ic√¥ne emploi du temps
‚îÇ       ‚îú‚îÄ‚îÄ logoargos.png    # Logo principal Argos
‚îÇ       ‚îú‚îÄ‚îÄ mentorat.png     # Ic√¥ne syst√®me mentorat
‚îÇ       ‚îú‚îÄ‚îÄ messagerie.png   # Ic√¥ne messagerie
‚îÇ       ‚îî‚îÄ‚îÄ default.png      # Avatar par d√©faut
‚îÇ
‚îú‚îÄ‚îÄ tmp_uploads/             # üìÅ Stockage temporaire uploads (traitement)
‚îÇ   ‚îî‚îÄ‚îÄ .txt                 # Fichier placeholder
‚îÇ
‚îî‚îÄ‚îÄ views/                   # üé≠ Templates EJS avec partials
    ‚îú‚îÄ‚îÄ partials/            # üß© Composants r√©utilisables
    ‚îÇ   ‚îú‚îÄ‚îÄ head.ejs         # <head> HTML avec m√©tadonn√©es
    ‚îÇ   ‚îú‚îÄ‚îÄ header.ejs       # Navigation principale avec authentification
    ‚îÇ   ‚îú‚îÄ‚îÄ footer.ejs       # Pied de page
    ‚îÇ   ‚îî‚îÄ‚îÄ ressources-matiere.ejs  # Template g√©n√©rique mati√®re
    ‚îÇ
    ‚îú‚îÄ‚îÄ matieres/            # üìö 30+ pages sp√©cifiques par mati√®re
    ‚îÇ   ‚îú‚îÄ‚îÄ programmation-java.ejs
    ‚îÇ   ‚îú‚îÄ‚îÄ base-de-donnees.ejs
    ‚îÇ   ‚îú‚îÄ‚îÄ automatique.ejs
    ‚îÇ   ‚îú‚îÄ‚îÄ electronique-analogique.ejs
    ‚îÇ   ‚îú‚îÄ‚îÄ mecanique-quantique.ejs
    ‚îÇ   ‚îú‚îÄ‚îÄ gestion-de-projet.ejs
    ‚îÇ   ‚îú‚îÄ‚îÄ marketing.ejs
    ‚îÇ   ‚îú‚îÄ‚îÄ anglais.ejs
    ‚îÇ   ‚îú‚îÄ‚îÄ devops.ejs
    ‚îÇ   ‚îî‚îÄ‚îÄ [...27 autres mati√®res].ejs
    ‚îÇ
    ‚îú‚îÄ‚îÄ accueil.ejs          # üè† Page d'accueil avec pr√©sentation
    ‚îú‚îÄ‚îÄ connexion.ejs        # üîê Formulaire de connexion
    ‚îú‚îÄ‚îÄ inscription.ejs      # ‚úçÔ∏è Formulaire d'inscription + upload photo
    ‚îú‚îÄ‚îÄ emploidutemps.ejs    # üìÖ Interface emploi du temps + API Mauria
    ‚îú‚îÄ‚îÄ mentorat.ejs         # üë®‚Äçüè´ Syst√®me de mentorat complet
    ‚îú‚îÄ‚îÄ ressources-educatives.ejs  # üìö Hub des ressources par mati√®re
    ‚îú‚îÄ‚îÄ messagerie.ejs       # üí¨ Interface chat temps r√©el
    ‚îú‚îÄ‚îÄ classement.ejs       # üèÜ Leaderboard et scores
    ‚îú‚îÄ‚îÄ compte.ejs           # üë§ Profil utilisateur
    ‚îú‚îÄ‚îÄ modifier.ejs         # ‚úèÔ∏è Modification profil + photo
    ‚îú‚îÄ‚îÄ admin.ejs            # üë®‚Äçüíº Dashboard administrateur
    ‚îî‚îÄ‚îÄ generate-matieres-pages.js  # üîß Script de g√©n√©ration automatique
```

### Architecture des collections MongoDB

```javascript
// Collection "Compte" - Utilisateurs
{
  _id: ObjectId,
  nom: String,
  prenom: String,
  email: String,          // Email Junia pour API Mauria
  username: String,       // Pseudo unique
  password: String,       // Hash bcrypt
  date_naissance: String,
  photo: String,          // Chemin vers photo de profil
  perm: Number,          // 0: √©tudiant, 1: association, 2: admin
  score: Number,         // Points de gamification
  date_inscription: Date
}

// Collection "Ressources" - Documents PDF + m√©tadonn√©es
{
  _id: ObjectId,
  matiere: String,       // Nom de la mati√®re
  categorie: String,     // "cours", "tds", "tps", "annales", "forum"
  name: String,          // Nom du fichier
  file: {
    buffer: Binary,      // Contenu PDF en binaire
    mimetype: String     // "application/pdf"
  },
  quizIA: Array,         // Quiz g√©n√©r√© par Gemini
  resumeIA: String,      // R√©sum√© g√©n√©r√© par IA
  uploadedAt: Date,
  quizIAUpdatedAt: Date,
  resumeIAUpdatedAt: Date
}

// Collection "mentorat" - Sessions de tutorat
{
  _id: ObjectId,
  matiere: String,
  duree: String,         // Format "HH:MM"
  module: String,        // Lieu/description
  message: String,       // Message optionnel
  enseignant_id: ObjectId,
  enseignant_nom: String,
  enseignant_prenom: String,
  eleve_id: ObjectId,    // Quand r√©serv√©
  reserve: Boolean,
  date: Date,
  heure_debut: String,   // Format "HH:MM"
  heure_fin: String,     // Calcul√© automatiquement
  date_creation: Date
}

// Collection "Messages" - Chat priv√© et groupes
{
  _id: ObjectId,
  // Pour chat priv√©
  conversationId: ObjectId,
  from: String,          // Username exp√©diteur
  to: String,           // Username destinataire
  read: Boolean,
  readAt: Date,
  // Pour groupes
  groupId: ObjectId,
  readBy: [{
    username: String,
    readAt: Date
  }],
  // Commun
  text: String,
  timestamp: Date
}
```

## üîå API Documentation

### Routes d'authentification
```javascript
GET  /                    // Page d'accueil
GET  /connexion          // Formulaire de connexion
POST /connexion          // Authentification utilisateur
GET  /inscription        // Formulaire d'inscription
POST /inscription        // Cr√©ation de compte
GET  /logout             // D√©connexion et destruction session
GET  /compte             // Profil utilisateur
GET  /modifier           // Formulaire modification profil
POST /modifier           // Mise √† jour profil + photo
```

### Routes emploi du temps et planification
```javascript
GET  /emploidutemps         // Interface emploi du temps
POST /emploidutemps         // Import depuis API Mauria
POST /api/custom-planning   // Planning sur p√©riode pr√©cise
GET  /api/association-events // R√©cup√©ration √©v√©nements associatifs
POST /api/association-events // Cr√©ation √©v√©nement (perm 1+)
PUT  /api/association-events/:id    // Modification √©v√©nement
DELETE /api/association-events/:id  // Suppression √©v√©nement (admin)
```

### Routes syst√®me de mentorat
```javascript
GET  /mentorat                 // Interface principale mentorat
POST /mentorat/creer          // Cr√©ation session de tutorat
GET  /mentorat/liste          // Liste sessions disponibles
GET  /mentorat/mes-cours      // Sessions cr√©√©es par l'utilisateur
PATCH /mentorat/reserver/:id  // R√©servation d'une session
DELETE /mentorat/supprimer/:id // Suppression session (cr√©ateur)
```

### Routes ressources et IA
```javascript
// Mati√®res (30+ routes g√©n√©r√©es dynamiquement)
GET /:matiere                    // Page d√©di√©e √† une mati√®re
POST /upload/:matiere           // Upload PDF dans mati√®re
GET /download/:id               // T√©l√©chargement PDF depuis BDD
GET /view/:id                   // Affichage PDF dans navigateur
GET /pdf/:id                    // Visualisation PDF inline

// IA et quiz
GET /api/quiz-from-doc/:id      // G√©n√©ration quiz depuis PDF
GET /api/resume-from-doc/:id    // G√©n√©ration r√©sum√© depuis PDF

// Forum par mati√®re
POST /forum/:matiere/add                        // Nouvelle discussion
POST /forum/:matiere/:discussionId/message      // Nouveau message
```

### Routes messagerie et WebSocket
```javascript
GET  /messagerie              // Interface chat principale
POST /messagerie/send         // Envoi message (priv√©/groupe)
GET  /messagerie/create       // Cr√©ation conversation
GET  /search-users           // Recherche utilisateurs pour chat
GET  /api/conversations      // Liste conversations avec compteurs
GET  /api/groups            // Liste groupes avec m√©tadonn√©es

// Gestion des groupes
POST /groups/create                    // Cr√©ation groupe + photo
GET  /groups/:groupId/edit            // R√©cup√©ration donn√©es groupe
POST /groups/:groupId/update          // Mise √† jour groupe
POST /groups/:groupId/add-members     // Ajout de membres
POST /groups/:groupId/leave           // Quitter le groupe
```

### Routes administration
```javascript
GET  /admin                   // Dashboard admin (perm 2)
POST /admin/permission/:id    // Modification permissions
POST /admin/delete/:id        // Suppression compte utilisateur
```

### WebSocket Events (Socket.IO)
```javascript
// Authentification et connexion
authenticate(username)        // Authentification du socket
joinConversation(convId)     // Rejoindre conversation priv√©e
joinGroup(groupId)          // Rejoindre groupe
leaveConversation(convId)   // Quitter conversation
leaveGroup(groupId)        // Quitter groupe

// Messagerie temps r√©el
sendMessage(data)           // Envoi message priv√©
sendGroupMessage(data)      // Envoi message groupe
markAsRead(data)           // Marquage messages lus
newMessage(data)           // R√©ception nouveau message
newGroupMessage(data)      // R√©ception message groupe
messageConfirmed(data)     // Confirmation envoi

// Notifications et mises √† jour
conversationUpdated(data)  // Mise √† jour conversation
refreshGroups(data)       // Actualisation liste groupes
refreshConversations(data) // Actualisation conversations
```

## üß™ Tests et d√©veloppement

### Lancement en mode d√©veloppement
```bash
# Variables d'environnement de d√©veloppement
NODE_ENV=development
DEBUG=true

# D√©marrage avec logs d√©taill√©s (optionnel)
DEBUG=* node app.js

# Ou avec nodemon pour rechargement automatique
nodemon app.js
```

### Tests manuels essentiels
1. **Authentification compl√®te** : Inscription ‚Üí Connexion ‚Üí D√©connexion
2. **Import emploi du temps** : Test API Mauria avec vrais identifiants Junia
3. **Upload et IA** : Upload PDF ‚Üí G√©n√©ration quiz ‚Üí G√©n√©ration r√©sum√©
4. **Messagerie temps r√©el** : Chat priv√© et groupes avec plusieurs onglets
5. **Syst√®me de mentorat** : Cr√©ation ‚Üí R√©servation ‚Üí Points
6. **Permissions** : Test des 3 niveaux d'autorisation (0, 1, 2)
7. **WebSocket** : D√©connexion/reconnexion, messages temps r√©el

### Debug et monitoring
```bash
# Logs WebSocket d√©taill√©s
console.log('[WebSocket] √©v√©nement:', data);

# V√©rification connexion MongoDB
if (!mongoReady) return res.status(503).send('DB non pr√™te');

# Logs des requ√™tes IA
console.error('Erreur Gemini:', err);
```

## üöÄ D√©ploiement

### Configuration production
```env
NODE_ENV=production
PORT=80

# MongoDB Atlas production
DB_ID=prod_user
DB_PASSWORD=prod_password_securise

# Sessions s√©curis√©es
SESSION_SECRET=secret_production_ultra_securise

# IA production
GEMINI_API_KEY=cle_production_gemini
```

### Optimisations pour la production
```javascript
// Compression activ√©e
app.use(compression());

// Cache statique 7 jours
app.use(express.static(path.join(__dirname, 'public'), { maxAge: '7d' }));

// Headers de cache PDF
res.setHeader('Cache-Control', 'public, max-age=604800, immutable');
```

### Plateformes recommand√©es
- **Application** : Heroku, Railway, DigitalOcean App Platform
- **Base de donn√©es** : MongoDB Atlas (gratuit jusqu'√† 512MB)
- **CDN/Assets** : Cloudflare pour les images et documents
- **Monitoring** : PM2 pour la gestion des processus Node.js
- **SSL** : Automatique sur la plupart des plateformes cloud

### Checklist pr√©-d√©ploiement
- [ ] Compilation et optimisation Tailwind CSS
- [ ] Configuration variables d'environnement production
- [ ] Test de toutes les APIs externes (Mauria, Gemini)
- [ ] V√©rification des permissions de fichiers et uploads
- [ ] Configuration du reverse proxy si n√©cessaire
- [ ] Test de charge WebSocket
- [ ] Sauvegarde base de donn√©es

## üì∏ Captures d'√©cran

### Interface principale et navigation
![Accueil](screenshots/accueil.png)
*Page d'accueil avec pr√©sentation des fonctionnalit√©s et navigation intuitive*

### Emploi du temps int√©gr√© Junia
![Emploi du temps](screenshots/emploi-du-temps.png)
*Import automatique depuis API Mauria avec √©v√©nements personnels et sessions de mentorat*

### Syst√®me de mentorat collaboratif
![Mentorat](screenshots/mentorat.png)
*Interface de cr√©ation et r√©servation de sessions de tutorat avec gamification*

### Ressources √©ducatives par mati√®re
![Ressources Java](screenshots/ressources-programmation-java.png)
*Page d√©di√©e Programmation Java avec documents class√©s et quiz IA*

### G√©n√©ration de quiz avec IA
![Quiz IA](screenshots/quiz-ia.png)
*Interface de g√©n√©ration automatique de quiz depuis documents PDF avec Google Gemini*

### Messagerie temps r√©el compl√®te
![Messagerie](screenshots/messagerie.png)
*Chat priv√© et groupes avec WebSocket, notifications et statuts de lecture*

### Dashboard administrateur
![Admin](screenshots/admin-dashboard.png)
*Interface de gestion des utilisateurs, permissions et mod√©ration*

### Forum par mati√®re
![Forum](screenshots/forum-matiere.png)
*Discussions int√©gr√©es par mati√®re avec messages temps r√©el*

*Pour ajouter vos captures d'√©cran, cr√©ez un dossier `screenshots/` et placez-y vos images*

## ü§ù Contributeurs

- **L√©o Lammar** - *D√©veloppeur principal* - [@LeoLammar](https://github.com/LeoLammar)

### Comment contribuer

Les contributions sont les bienvenues ! Pour contribuer au projet :

1. **Fork** le repository
2. **Cr√©ez** une branche feature (`git checkout -b feature/amelioration-messagerie`)
3. **Committez** vos changements (`git commit -m 'Ajout: notification push pour mobile'`)
4. **Pushez** vers la branche (`git push origin feature/amelioration-messagerie`)
5. **Ouvrez** une Pull Request avec description d√©taill√©e

### Standards de d√©veloppement
- **Langage** : JavaScript ES6+ avec async/await
- **Indentation** : 4 espaces (coh√©rent avec le code existant)
- **Naming** : camelCase pour variables, PascalCase pour classes
- **Comments** : Fran√ßais pour la documentation, anglais pour le code technique
- **Templates** : EJS avec partials r√©utilisables
- **Base de donn√©es** : Driver MongoDB natif (pas Mongoose)
- **WebSocket** : Socket.IO avec gestion d'erreurs compl√®te

### Architecture des contributions
- **Backend** : Nouvelles routes dans `app.js` avec middleware appropri√©
- **Frontend** : Templates EJS avec Tailwind CSS et JavaScript vanilla
- **Database** : Requ√™tes MongoDB optimis√©es avec indexes
- **WebSocket** : √âv√©nements avec logging et gestion d'erreurs
- **IA** : Int√©grations Gemini avec gestion des quotas et erreurs

## üìù Licence

Ce projet est sous licence MIT - voir le fichier [LICENSE](LICENSE) pour plus de d√©tails.

```
MIT License

Copyright (c) 2025 L√©o Lammar - Projet Argos Junia

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

## üôè Remerciements

- **Junia √âcole d'Ing√©nieurs** pour le cadre de formation et l'acc√®s √† l'API Mauria officielle
- **√âquipe p√©dagogique** pour l'accompagnement technique et les conseils d'architecture
- **API Mauria** (mauriaapi.fly.dev) pour l'int√©gration des emplois du temps en temps r√©el
- **Google AI Team** pour les services Gemini 2.0 Flash et la g√©n√©ration intelligente
- **MongoDB Team** pour la documentation compl√®te et les driver Node.js natifs
- **Socket.IO Contributors** pour les WebSockets performants et la gestion temps r√©el
- **Tailwind CSS** pour le framework utilitaire moderne et la productivit√©
- **Communaut√© Node.js** pour l'√©cosyst√®me riche et les bonnes pratiques

## üìû Contact et support

### Contact principal
- **Email du projet** : [leo.lammar@student.junia.com]
- **LinkedIn** : [Profil LinkedIn de L√©o Lammar]
- **Repository GitHub** : [https://github.com/LeoLammar/ProjetFinAnnee3](https://github.com/LeoLammar/ProjetFinAnnee3)

### Support technique
- **Documentation** : README.md complet avec exemples
- **Code source** : Commentaires d√©taill√©s en fran√ßais
- **Issues GitHub** : Pour signaler bugs et demandes de fonctionnalit√©s
- **Wiki** : Documentation technique avanc√©e (√† venir)

### Pr√©sentation du projet
- **Demo live** : [URL de d√©mo si d√©ploy√©e]
- **Vid√©o de pr√©sentation** : [Lien vers pr√©sentation vid√©o]
- **Documentation API** : [Lien vers documentation Postman/Swagger]

## üîÆ Roadmap et √©volutions futures

### Phase 2 - Court terme (3-6 mois)
- [ ] **Application mobile native** avec React Native ou Flutter
- [ ] **Notifications push** pour mobile et desktop via Service Workers
- [ ] **Mode hors ligne** pour consultation des ressources avec Progressive Web App
- [ ] **Export PDF** des emplois du temps et planning personnalis√©
- [ ] **Int√©gration calendrier externe** : Google Calendar, Outlook, Apple Calendar
- [ ] **Syst√®me de badges** et achievements pour gamification avanc√©e

### Phase 3 - Moyen terme (6-12 mois)
- [ ] **Analytics avanc√©es** avec tableaux de bord et m√©triques d'utilisation
- [ ] **API publique REST** pour int√©grations tierces avec documentation OpenAPI
- [ ] **Intelligence artificielle avanc√©e** : recommandations personnalis√©es de contenu
- [ ] **Syst√®me de notation** et reviews pour les sessions de mentorat
- [ ] **Partage de screen** et visioconf√©rence int√©gr√©e pour mentorat √† distance
- [ ] **Multilinguisme** : Support anglais et autres langues

### Phase 4 - Long terme (1-2 ans)
- [ ] **Multi-√©tablissements** : Extension √† d'autres √©coles d'ing√©nieurs fran√ßaises
- [ ] **Marketplace de comp√©tences** : √âchange de services entre √©tudiants
- [ ] **IA pr√©dictive** : Analyse des performances et recommandations d'orientation
- [ ] **R√©alit√© augment√©e** : Navigation campus et informations contextuelles
- [ ] **Blockchain** : Certification des comp√©tences et portfolio num√©rique
- [ ] **√âcosyst√®me partenaires** : Int√©gration entreprises pour stages et emplois

### Am√©liorations techniques prioritaires
- [ ] **Tests automatis√©s** : Jest, Mocha ou Cypress pour tests E2E
- [ ] **CI/CD Pipeline** : GitHub Actions pour d√©ploiement automatique
- [ ] **Monitoring avanc√©** : Prometheus, Grafana, ou services cloud
- [ ] **S√©curit√© renforc√©e** : HTTPS, CSP, rate limiting, validation d'entr√©es
- [ ] **Performance** : Redis pour cache, CDN pour assets, optimisation MongoDB
- [ ] **Scalabilit√©** : Architecture microservices et load balancing

## üìä M√©triques et statistiques

### D√©veloppement (1.5 mois)
- **Lignes de code** : ~1500+ lignes dans app.js principal
- **Templates EJS** : 30+ pages de mati√®res + 10+ pages syst√®me
- **Collections MongoDB** : 7 collections principales optimis√©es
- **APIs int√©gr√©es** : 2 services externes (Mauria + Google Gemini)
- **WebSocket Events** : 15+ √©v√©nements temps r√©el
- **Routes Express** : 50+ endpoints API et pages

### Fonctionnalit√©s techniques
- **Upload de fichiers** : Support PDF jusqu'√† 20MB avec stockage MongoDB
- **IA int√©gr√©e** : Quiz et r√©sum√©s automatiques via Google Gemini 2.0
- **Temps r√©el** : Chat priv√© et groupes avec Socket.IO
- **Authentification** : Sessions s√©curis√©es avec bcrypt et MongoDB
- **Responsive** : Interface optimis√©e mobile et desktop avec Tailwind
- **Permissions** : 3 niveaux d'autorisation (√©tudiant, association, admin)

## üè∑Ô∏è Tags et mots-cl√©s

`node.js` `express` `mongodb` `socket.io` `ejs` `tailwind` `google-gemini` `pdf-processing` `real-time-chat` `student-platform` `schedule-management` `ai-integration` `tutoring-system` `junia` `engineering-school` `web-application` `javascript` `websocket` `file-upload` `authentication`
